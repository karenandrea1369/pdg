{"version":3,"sources":["scripts/classes/ExpandMenu.js","scripts/pages/createcourse.js"],"names":["ExpandMenu","toggleId","navBarId","toggle","document","getElementById","navBar","addEventListener","classList","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","window","auth","db","firestore","PDFJS","workerSrc","expander","expand","input","fields","ExtractText","fileinput","fReader","FileReader","readAsDataURL","files","onloadend","event","convertDataURIToBinary","target","result","BASE64_MARKER","dataURI","base64Index","indexOf","length","base64","substring","raw","atob","rawLength","array","Uint8Array","ArrayBuffer","i","charCodeAt","pdfAsArray","getPageText","pageNum","PDFDocumentInstance","Promise","resolve","reject","getPage","then","pdfPage","getTextContent","textContent","textItems","items","finalString","item","str","getDocument","pdf","pdfDocument","pagesPromises","pdfInfo","numPages","pageNumber","push","all","pagesText","console","log","texto","codcourseindex","search","prerrindex","codcourse","reason","error"],"mappings":"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","file":"createcourse.e8ac2d96.js","sourceRoot":"..\\src","sourcesContent":["/* Expander menu */\r\n\r\nclass ExpandMenu{\r\n\r\n    constructor(toggleId, navBarId){\r\n        this.toggle = document.getElementById(toggleId);\r\n        this.navBar = document.getElementById(navBarId);\r\n        \r\n    }\r\n\r\n    expand(){\r\n        if(this.toggle && this.navBar){\r\n            //console.log(this.toggle);\r\n            //console.log(this.navBar);\r\n            this.toggle.addEventListener('click', ()=>{\r\n                this.navBar.classList.toggle('expand');\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport default ExpandMenu;","import ExpandMenu from '../classes/ExpandMenu';\r\n\r\n// For Firebase JavaScript SDK v7.20.0 and later, `measurementId` is an optional field\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyDjl6bYnNz0DdeWM7hWxITVpn1BQq6SSjI\",\r\n    authDomain: \"pdg-db.firebaseapp.com\",\r\n    projectId: \"pdg-db\",\r\n    storageBucket: \"pdg-db.appspot.com\",\r\n    messagingSenderId: \"848702577304\",\r\n    appId: \"1:848702577304:web:89c4212e674efb5c3bceed\",\r\n    measurementId: \"G-SBDH6RW0HW\"\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nwindow.addEventListener('load',()=>{\r\n    var auth = firebase.auth();\r\n    var db = firebase.firestore();\r\n\r\n    // var datass = '';\r\n    // var DataArr = [];\r\n    PDFJS.workerSrc = '';\r\n\r\n    var expander = new ExpandMenu('nav-toggle', 'navBar');\r\n    expander.expand();\r\n\r\n    var input = document.getElementById(\"file-id\");\r\n\r\n    var fields = [\r\n        {\r\n            \"field\" : \"Código-Curso:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0\r\n        },\r\n        {\r\n            \"field\" : \"Código - Curso:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0\r\n        },\r\n        {\r\n            \"field\" : \"Tiene como prerrequisito:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0\r\n        },\r\n        {\r\n            \"field\" : \"Programa-Semestre:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0\r\n        },\r\n        {\r\n            \"field\" : \"Programa - Semestre:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0\r\n        },\r\n        {\r\n            \"field\" : \"Intensidad semanal:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0\r\n        },\r\n        {\r\n            \"field\" : \"Créditos:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0\r\n        },\r\n        {\r\n            \"field\" : \"Objetivo General:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0\r\n        },\r\n        {\r\n            \"field\" : \"Objetivos terminales\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0\r\n        },\r\n        {\r\n            \"field\" : \"Unidad 1:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0\r\n        },\r\n        {\r\n            \"field\" : \"Unidad 2:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0\r\n        },\r\n        {\r\n            \"field\" : \"Unidad 3:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0\r\n        },\r\n        {\r\n            \"field\" : \"Unidad 4:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0\r\n        },\r\n        {\r\n            \"field\" : \"Unidad 5:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0\r\n        },\r\n        {\r\n            \"field\" : \"Unidad 6:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0\r\n        },\r\n    ]\r\n\r\n    input.addEventListener('change', ()=>{\r\n        ExtractText(input);\r\n    })\r\n    function ExtractText(fileinput) {\r\n        var fReader = new FileReader();\r\n        fReader.readAsDataURL(fileinput.files[0]);\r\n        // console.log(input.files[0]);\r\n        fReader.onloadend = function (event) {\r\n            convertDataURIToBinary(event.target.result);\r\n        }\r\n    }\r\n\r\n    var BASE64_MARKER = ';base64,';\r\n\r\n    function convertDataURIToBinary(dataURI) {\r\n\r\n        var base64Index = dataURI.indexOf(BASE64_MARKER) + BASE64_MARKER.length;\r\n        var base64 = dataURI.substring(base64Index);\r\n        var raw = window.atob(base64);\r\n        var rawLength = raw.length;\r\n        var array = new Uint8Array(new ArrayBuffer(rawLength));\r\n\r\n        for (var i = 0; i < rawLength; i++) {\r\n            array[i] = raw.charCodeAt(i);\r\n        }\r\n        pdfAsArray(array)\r\n        \r\n    }\r\n\r\n    function getPageText(pageNum, PDFDocumentInstance) {\r\n        // Return a Promise that is solved once the text of the page is retrieven\r\n        return new Promise(function (resolve, reject) {\r\n            PDFDocumentInstance.getPage(pageNum).then(function (pdfPage) {\r\n                // The main trick to obtain the text of the PDF page, use the getTextContent method\r\n                pdfPage.getTextContent().then(function (textContent) {\r\n                    var textItems = textContent.items;\r\n                    var finalString = \"\";\r\n\r\n                    // Concatenate the string of the item to the final string\r\n                    for (var i = 0; i < textItems.length; i++) {\r\n                        var item = textItems[i];\r\n\r\n                        finalString += item.str + \" \";\r\n                    }\r\n\r\n                    // Solve promise with the text retrieven from the page\r\n                    resolve(finalString);\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    function pdfAsArray(pdfAsArray) {\r\n\r\n        PDFJS.getDocument(pdfAsArray).then(function (pdf) {\r\n\r\n            var pdfDocument = pdf;\r\n            // Create an array that will contain our promises\r\n            var pagesPromises = [];\r\n\r\n            for (var i = 0; i < pdf.pdfInfo.numPages; i++) {\r\n                // Required to prevent that i is always the total of pages\r\n                (function (pageNumber) {\r\n                    // Store the promise of getPageText that returns the text of a page\r\n                    pagesPromises.push(getPageText(pageNumber, pdfDocument));\r\n                })(i + 1);\r\n            }\r\n            // Execute all the promises\r\n            Promise.all(pagesPromises).then(function (pagesText) {\r\n\r\n                // Display text of all the pages in the console\r\n                // e.g [\"Text content page 1\", \"Text content page 2\", \"Text content page 3\" ... ]\r\n                console.log(\"Pages text---->\", pagesText); // representing every single page of PDF Document by array indexing\r\n               // console.log(\"Pages text length ---->\", pagesText.length);\r\n                for (var pageNum = 0; pageNum < pagesText.length; pageNum++) {\r\n                    //console.log(\"Pages text pagenum ---->\", pagesText[pageNum]);\r\n                    //outputStr = \"\";\r\n                    //outputStr = \"<br/><br/>Page \" + (pageNum + 1) + \" contents <br/> <br/>\";\r\n                    //var div = document.getElementById('output');\r\n                    //div.innerHTML += (outputStr + pagesText[pageNum]);\r\n                    console.log(pagesText[pageNum].length);\r\n                    var texto = pagesText[pageNum];\r\n                    var codcourseindex = texto.search(\"Código - Curso:\");\r\n                    var prerrindex = texto.search(\"Tiene como prerrequisito:\");\r\n                    var codcourse = texto.substring(codcourseindex, prerrindex);\r\n                    console.log(\"codigo index\",codcourseindex);\r\n                    console.log(\"pre index\",prerrindex);\r\n                    // console.log(\"codcourse\", codcourse)\r\n                }\r\n            });\r\n        }, function (reason) {\r\n            // PDF loading error\r\n            console.error(reason);\r\n        });\r\n    }\r\n\r\n});"]}