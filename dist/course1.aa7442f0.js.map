{"version":3,"sources":["scripts/classes/ExpandMenu.js","scripts/classes/ReadPdf.js","scripts/classes/FillFields.js","scripts/pages/course1.js"],"names":["ExpandMenu","toggleId","navBarId","toggle","document","getElementById","navBar","addEventListener","classList","add","remove","ReadPdf","fields","input","pdftext","PDFJS","workerSrc","readPdf","fReader","FileReader","readAsDataURL","files","onloadend","event","convertDataURIToBinary","target","result","dataURI","BASE64_MARKER","base64Index","indexOf","length","base64","substring","raw","window","atob","rawLength","array","Uint8Array","ArrayBuffer","i","charCodeAt","pdfAsArray","pageNum","PDFDocumentInstance","Promise","resolve","reject","getPage","then","pdfPage","getTextContent","textContent","textItems","items","finalString","item","str","getDocument","pdf","pdfDocument","pagesPromises","pdfInfo","numPages","pageNumber","push","getPageText","all","pagesText","concat","addLineBreak","findFields","reason","console","error","regexp","originText","split","results","matchAll","splice","index","join","text","forEach","field","search","exist","start","end","sort","sortFields","putFieldsContent","a","b","obj","content","trim","FillFields","fieldsArray","log","fi","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","auth","db","firestore","expander","expand","resetFields","extractText","getFields","fillFields","fields1"],"mappings":";;AGAA;;AACA;;AACA;;;;AAEA;AACA,IAAIuG,cAAc,GAAG;AACjBC,EAAAA,MAAM,EAAE,yCADS;AHLrB,AGOIC,EAAAA,EDPEN,QCOQ,EAAE,wBAFK;ADHjB,ACMAO,EAAAA,EHNE1G,OGMO,EAAE,QAHM,CDHLY,MAAZ,EAAmB;AFEnB,AEFmB,ACOnB+F,EAAAA,aAAa,EAAE,KHLH1G,QAAZ,EAAsBC,KGCL,GHDjB,EAA+B;AAAA,AGM/B0G,EAAAA,iBAAiB,EAAE,cALF;ADFf,ACQFC,EAAAA,KAAK,EAAE,2CANU;AHAb,AEDA,ACQJC,EAAAA,OHPS3G,AEDAS,MFCL,AEDA,ACQS,EAAE,CHPGR,AEDAQ,MAAd,CAFe,CFGO,AEAtB,CFAuBP,cAAT,CAAwBJ,QAAxB,CAAd;AACA,AEAA,ACDa,CAArB,EAUA,MHTaK,MAAL,GAAcF,QAAQ,CAACC,cAAT,CAAwBH,QAAxB,CAAd;AAEH,AEDG;AACA,ACQR6G,QAAQ,CAACC,aAAT,CAAuBT,cAAvB;ADPQ,ACSRpE,MAAM,CAAC5B,gBAAP,CAAwB,MAAxB,EAA+B,YAAI;ADR3B,ACSJ,MAAI0G,IAAI,GAAGF,QAAQ,CAACE,IAAT,EAAX;ADRI,ACSJ,MAAIC,EAAE,GHVN,AGUSH,QAAQ,CAACI,SHVV,AGUC,EAAT;AHVQ,AEEJ,ACUJ,IFtBExG,EEsBEyG,QAAQ,GAAG,IAAIpH,mBAAJ,CAAe,QAAf,EAAyB,QAAzB,CAAf;ADTI,ADXJ,AEqBAoH,EAAAA,QAAQ,CAACC,MAAT,EFrBYzG,MAAZ,EAAoBC,KAApB,EAA0B;ADStB,AEGA,ADZsB,AEwB1B,MAAIA,IHfG,CGeE,GAAGT,CHfAD,MAAL,CGea,CAACE,EHfC,KAAKC,MAAvB,CGeQ,CHfsB,AGeE,SAAxB,CAAZ,CAR+B,CAU/B;AHhBQ,AEGJ,aFHSH,MAAL,CAAYI,gBAAZ,CAA6B,YAA7B,EAA2C,YAAI;AAC3C,AEGX,ADbG,AE0BJ,MAAIK,GF1BKA,CDUG,EGgBF,GHhBM,ACVZ,AE0BS,CHhBIN,AGiBb,EF3BcM,IDUN,CAAYJ,CCVpB,QDUQ,CAAsBC,GAAtB,CAA0B,QAA1B;AACH,ACVL,AE2BI,SHnBA,ACRCI,IE2BS,CF3Bd,GAAaA,KAAb,CE0BA;AHdI,ACXJ,AE2BI,SF3BCC,IDWIX,AGgBK,GF3Bd,EEyBA,CHdI,ACXW,CDWCI,CCXhB,eDWI,CAA6B,YAA7B,EAA2C,YAAI;AAC3C,ACXRQ,AE2BI,IF3BJA,KAAK,CDWG,ACXFC,GE2BQ,CAHd,CHbY,CAACV,GCXb,GDWQ,ACXU,CDWEE,CCXpB,QDWQ,CAAsBE,MAAtB,CAA6B,QAA7B;AACH,ACXR,AE2BO,IFzBR,KDOQ,EEER,ACgBgB,CAJZ,iBDZKE,MAAT,EAAgB;AFCX,AEAD,ACgBI,UDhBAwF,KCgBY,MDhBD,GAAGxF,MAAlB;AFCH,AEAG8D,ACUA,GADS,EAQT,CDjBAA,OAAO,CAAC2B,GAAR,CAAYD,WAAZ;AACAA,ACiBI,MDjBJA,OCiBc,IDjBH,CAACf,OAAZ,CAAoB,ECgBpB,QDhBoBiB,EAAE,EAAI;AACtB5B,ACiBA,QDjBAA,KCiBU,EDjBH,CAAC2B,ECeZ,CDfI,CAAYC,EAAZ;ACkBA,WF9BR,EE8BkB,MAHd,eF3BU;ACaN,ADZJ,AE8BI,UF9BArF,ECYGqF,CCkBO,CDlBL,ACcT,CDdUd,EDZC,GCYP,ADZU,ECYE,CACX,CDba7E,OAAJ,CAAY,KAAKC,MAAjB,EAAyB,KAAKC,KAA9B,CAAd;ACcC,ADbD,AE8BI,ODrBJ,GDTIK,CE8BQ,CALZ,KFzBW,GAAG,IAAIC,UAAJ,EAAd;ACcH,ADbGD,AE8BI,MF9BJA,OAAO,CAACE,CDUDpB,AGoBS,YF9BhB,CAAsB,KAAKa,KAAL,CAAWQ,KAAX,CAAiB,CAAjB,CAAtB,EAHU,CAIV;AEuBA,GARS,EAgBT;AF9BAH,AE+BI,MF/BJA,OAAO,AE+BO,CF/BNI,SAAR,GAAoB,UAAUC,IE8B9B,CF9BoB,EAAiB;AACjCN,AE+BA,QF/BAA,GCYR,ECmBkB,EF/BH,CAACO,EE6BZ,cDjBO,MDZH,CAA+BD,KAAK,CAACE,MAAN,CAAaC,MAA5C,EAAoDT,OAApD;ACaJ,ADZC,AE+BG,OFjCJ,MCcO,ACmBO,KDnBFL,ACgBZ,MDhBA;AACH,ADZA,AE+BO,aAAU,CAJd;AAKI,WAAQ,CALZ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","file":"course1.aa7442f0.js","sourceRoot":"..\\src","sourcesContent":["/* Expander menu */\r\n\r\nclass ExpandMenu{\r\n\r\n    constructor(toggleId, navBarId){\r\n        this.toggle = document.getElementById(toggleId);\r\n        this.navBar = document.getElementById(navBarId);\r\n        \r\n    }\r\n\r\n    expand(){\r\n        if(this.toggle && this.navBar){\r\n            this.toggle.addEventListener('mouseenter', ()=>{\r\n                this.navBar.classList.add('expand');\r\n            })\r\n\r\n            this.toggle.addEventListener('mouseleave', ()=>{\r\n                this.navBar.classList.remove('expand');\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport default ExpandMenu;","class ReadPdf{\r\n\r\n    constructor(fields, input){\r\n        this.fields = fields;\r\n        this.input = input;\r\n        this.pdftext = \"\";\r\n        PDFJS.workerSrc = '';\r\n    }\r\n\r\n    //--------------------------- READ PDF ------------------------------\r\n    extractText() {\r\n        var readPdf = new ReadPdf(this.fields, this.input);\r\n        var fReader = new FileReader();\r\n        fReader.readAsDataURL(this.input.files[0]);\r\n        // console.log(input.files[0]);\r\n        fReader.onloadend = function (event) {\r\n            readPdf.convertDataURIToBinary(event.target.result, readPdf);\r\n        }\r\n    }\r\n    \r\n    convertDataURIToBinary(dataURI, readPdf) {\r\n        var BASE64_MARKER = ';base64,';\r\n        var base64Index = dataURI.indexOf(BASE64_MARKER) + BASE64_MARKER.length;\r\n        var base64 = dataURI.substring(base64Index);\r\n        var raw = window.atob(base64);\r\n        var rawLength = raw.length;\r\n        var array = new Uint8Array(new ArrayBuffer(rawLength));\r\n\r\n        for (var i = 0; i < rawLength; i++) {\r\n            array[i] = raw.charCodeAt(i);\r\n        }\r\n        readPdf.pdfAsArray(array, readPdf)\r\n    }\r\n\r\n    getPageText(pageNum, PDFDocumentInstance) {\r\n        // Return a Promise that is solved once the text of the page is retrieven\r\n        return new Promise(function (resolve, reject) {\r\n            PDFDocumentInstance.getPage(pageNum).then(function (pdfPage) {\r\n                // The main trick to obtain the text of the PDF page, use the getTextContent method\r\n                pdfPage.getTextContent().then(function (textContent) {\r\n                    var textItems = textContent.items;\r\n                    var finalString = \"\";\r\n                    \r\n                    // Concatenate the string of the item to the final string\r\n                    for (var i = 0; i < textItems.length; i++) {\r\n                        var item = textItems[i];\r\n                        finalString += item.str + \"\";\r\n                    }\r\n\r\n                    // Solve promise with the text retrieven from the page\r\n                    resolve(finalString);\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    pdfAsArray(pdfAsArray, readPdf) {\r\n\r\n        PDFJS.getDocument(pdfAsArray).then(function (pdf) {\r\n\r\n            var pdfDocument = pdf;\r\n            // Create an array that will contain our promises\r\n            var pagesPromises = [];\r\n\r\n            for (var i = 0; i < pdf.pdfInfo.numPages; i++) {\r\n                // Required to prevent that i is always the total of pages\r\n                (function (pageNumber) {\r\n                    // Store the promise of getPageText that returns the text of a page\r\n                    pagesPromises.push(readPdf.getPageText(pageNumber, pdfDocument));\r\n                })(i + 1);\r\n            }\r\n            // Execute all the promises\r\n            Promise.all(pagesPromises).then(function (pagesText) {\r\n                // Display text of all the pages in the console\r\n                // e.g [\"Text content page 1\", \"Text content page 2\", \"Text content page 3\" ... ]\r\n                // representing every single page of PDF Document by array indexing\r\n                for (var pageNum = 0; pageNum < pagesText.length; pageNum++) {\r\n                    //var div = document.getElementById('output');\r\n                    //div.innerHTML += (outputStr + pagesText[pageNum]);\r\n                    readPdf.pdftext = readPdf.pdftext.concat(pagesText[pageNum]);\r\n                };\r\n                readPdf.addLineBreak(readPdf);\r\n                readPdf.findFields(readPdf.pdftext, readPdf);\r\n            });\r\n        }, function (reason) {\r\n            // PDF loading error\r\n            console.error(reason);\r\n        });\r\n    }\r\n\r\n    //--------------------------- SEPARATE PDF ------------------------------\r\n    addLineBreak(readPdf){\r\n        var regexp = / [0-9]\\./g;\r\n        var originText = readPdf.pdftext.split('');\r\n        var results = [...readPdf.pdftext.matchAll(regexp)];\r\n        for (let i = 0; i < results.length; i++) {\r\n            originText.splice(((results[i].index)+i), 0, \"<br>\");\r\n        }\r\n        readPdf.pdftext = originText.join('');\r\n    }\r\n\r\n    findFields(text, readPdf){\r\n        //if found the field, save the begin and end position of it in the string\r\n        readPdf.fields.forEach(field =>{\r\n            if(text.search(field.field) != -1){\r\n                field.exist = true;\r\n                field.start = text.search(field.field);\r\n                field.end = text.search(field.field) + field.field.length;\r\n            }\r\n        });\r\n\r\n        //sort fields in order of start\r\n        readPdf.fields.sort(readPdf.sortFields);\r\n        readPdf.putFieldsContent(readPdf.fields, text);\r\n    }\r\n\r\n    sortFields( a, b ) {\r\n        return a.start - b.start;\r\n    }\r\n\r\n    putFieldsContent(array, originText){\r\n        array.forEach((obj, index) =>{\r\n            if(obj.end != 0){ //to all fields that exist\r\n                if(index+1 < array.length){\r\n                    var content = originText.substring(obj.end, array[index+1].start).trim();\r\n                    obj.content = content;\r\n                    //console.log(obj.field, obj.content);\r\n                }else{\r\n                    var content = originText.substring(obj.end);\r\n                    obj.content = content;\r\n                    //console.log(obj.field, obj.content);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    getFields(){\r\n        return this.fields;\r\n    }\r\n\r\n}\r\n\r\nexport default ReadPdf;","class FillFields{\r\n\r\n    constructor(fields){\r\n      // console.log(fields);\r\n        this.fields = fields;\r\n        //this.input = input;\r\n        // this.name = document.getElementById(\"name\");\r\n        // this.code = document.getElementById(\"code\");\r\n        // this.pre = document.getElementById(\"pre\");\r\n        // this.career = document.getElementById(\"career\");\r\n        // this.semester = document.getElementById(\"semester\");\r\n        // this.weekhours = document.getElementById(\"weekhours\");\r\n        // this.credits = document.getElementById(\"credits\");\r\n        // this.generalobj = document.getElementById(\"generalobj\");\r\n        // this.terminalobj = document.getElementById(\"terminalobj\");\r\n        //console.log(this.name);\r\n    }\r\n\r\n    setTexts(fields){\r\n        var fieldsArray = fields;\r\n        console.log(fieldsArray);\r\n        fieldsArray.forEach(fi => {\r\n            console.log(fi);\r\n            if(fi.exist){\r\n            }\r\n        });\r\n    }\r\n\r\n    getFields(){\r\n        return this.fields;\r\n    }\r\n\r\n}\r\n\r\nexport default FillFields;","import ExpandMenu from '../classes/ExpandMenu';\r\nimport ReadPdf from '../classes/ReadPdf';\r\nimport FillFields from '../classes/FillFields';\r\n\r\n// For Firebase JavaScript SDK v7.20.0 and later, `measurementId` is an optional field\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyDjl6bYnNz0DdeWM7hWxITVpn1BQq6SSjI\",\r\n    authDomain: \"pdg-db.firebaseapp.com\",\r\n    projectId: \"pdg-db\",\r\n    storageBucket: \"pdg-db.appspot.com\",\r\n    messagingSenderId: \"848702577304\",\r\n    appId: \"1:848702577304:web:89c4212e674efb5c3bceed\",\r\n    measurementId: \"G-SBDH6RW0HW\"\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nwindow.addEventListener('load',()=>{\r\n    var auth = firebase.auth();\r\n    var db = firebase.firestore();\r\n\r\n    var expander = new ExpandMenu('navBar', 'navBar');\r\n    expander.expand();\r\n\r\n\r\n    var input = document.getElementById(\"file-id\");\r\n\r\n    //--------------------------- SYLLABUS FIELDS ------------------------------\r\n    var fields = [\r\n        {\r\n            \"field\" : \"Parte 1:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n        {\r\n            \"field\" : \"Código-Curso:\",\r\n            \"exist\" : false,\r\n            \"input\" : \"name\",\r\n            \"start\" : 0,\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n        {\r\n            \"field\" : \"Tiene como prerrequisito:\",\r\n            \"exist\" : false,\r\n            \"input\" : \"pre\",\r\n            \"start\" : 0,\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n        {\r\n            \"field\" : \"Programa-Semestre:\",\r\n            \"exist\" : false,\r\n            \"input\" : \"career\",\r\n            \"start\" : 0,\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n        {\r\n            \"field\" : \"Intensidad semanal:\",\r\n            \"exist\" : false,\r\n            \"input\" : \"weekhours\",\r\n            \"start\" : 0,\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n        {\r\n            \"field\" : \"Créditos:\",\r\n            \"exist\" : false,\r\n            \"input\" : \"credits\",\r\n            \"start\" : 0,\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n        {\r\n            \"field\" : \"Objetivo General:\",\r\n            \"exist\" : false,\r\n            \"input\" : \"generalobj\",\r\n            \"start\" : 0,\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n        {\r\n            \"field\" : \"Parte 2:\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n        {\r\n            \"field\" : \"Objetivos terminales\",\r\n            \"exist\" : false,\r\n            \"input\" : \"terminalobj\",\r\n            \"start\" : 0,\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n        {\r\n            \"field\" : \"Parte 3: Objetivos Específicos\",\r\n            \"exist\" : false,\r\n            \"start\" : 0,\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n        {\r\n            \"field\" : \"Unidad 1:\",\r\n            \"exist\" : false,\r\n            \"input\" : \"unit1\",\r\n            \"start\" : 0,\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n        {\r\n            \"field\" : \"Unidad 2:\",\r\n            \"exist\" : false,\r\n            \"input\" : \"unit2\",\r\n            \"start\" : 0,\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n        {\r\n            \"field\" : \"Unidad 3:\",\r\n            \"exist\" : false,\r\n            \"input\" : \"unit3\",\r\n            \"start\" : 0,\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n        {\r\n            \"field\" : \"Unidad 4:\",\r\n            \"exist\" : false,\r\n            \"input\" : \"unit4\",\r\n            \"start\" : 0,\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n        {\r\n            \"field\" : \"Unidad 5:\",\r\n            \"exist\" : false,\r\n            \"input\" : \"unit5\",\r\n            \"start\" : 0,\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n        {\r\n            \"field\" : \"Unidad 6:\",\r\n            \"exist\" : false,\r\n            \"input\" : \"unit6\",\r\n            \"start\" : \"\",\r\n            \"end\" : 0,\r\n            \"content\" : \"\"\r\n        },\r\n    ]\r\n\r\n\r\n    //--------------------------- READ PDF ------------------------------\r\n    input.addEventListener('change', ()=>{\r\n        resetFields(fields);\r\n        var readPdf = new ReadPdf(fields, input);\r\n        readPdf.extractText();\r\n        console.log(\"get fields\", readPdf.getFields());\r\n        fields = readPdf.getFields();\r\n        //console.log(fields);\r\n        fillFields(fields);\r\n    })\r\n\r\n    function fillFields(fields1){\r\n        console.log(fields1);\r\n        console.log(fields1[0]);\r\n        for (let i = 0; i < fields.length; i++) {\r\n            console.log(fields1[i]);\r\n        }\r\n        fields1.forEach(field =>{\r\n        });\r\n        \r\n    }\r\n\r\n    function resetFields(fields){\r\n        fields.forEach(field =>{\r\n            field.exist = false;\r\n            field.start = 0;\r\n            field.end = 0;\r\n            field.content = \"\";\r\n        })\r\n    }\r\n \r\n\r\n});"]}